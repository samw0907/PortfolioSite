/* src/styles/fx.css */

.home-fx {
  position: relative;
  width: 100%;
}

.home-fx-bg {
  position: absolute;
  inset: 0;
  z-index: 0;
  pointer-events: none;

  overflow: hidden;
  clip-path: inset(0);

  width: 100%;
  background: rgb(var(--hero-bg));
}

.home-fx .hero-frame {
  background: transparent;
}

.home-fx .hero-frame > .hero-bg {
  display: none;
}

.home-fx-bg .hero-bg {
  position: absolute;
  inset: 0;
  pointer-events: none;
}

.home-fx-bg .hero-spot-glow,
.home-fx-bg .hero-noise {
  position: absolute;
  inset: 0;
}

.home-fx-content {
  position: relative;
  z-index: 10;
}

:root:not(.dark) .hero-spot-glow {
  display: none;
}

@media (max-width: 640px) {
  .home-fx-bg {
    display: none;
  }

  .fx-band {
    position: relative;
    width: 100%;
    isolation: isolate;
    overflow: visible;
  }

  .fx-band-bg {
    position: absolute;
    inset: -24px;
    z-index: 0;
    pointer-events: none;
    overflow: visible;
  }

  .fx-band-bg .hero-bg {
    position: absolute;
    inset: 0;
  }

  .fx-band-content {
    position: relative;
    z-index: 1;
  }

  .hero-spot-glow {
    display: none !important;
  }

  .section--hero {
    position: relative;
    isolation: isolate;
  }

  .section--hero::before {
    content: "";
    position: absolute;
    inset: -18px;
    z-index: -1;
    pointer-events: none;
    background: radial-gradient(
      820px 520px at 50% 18%,
      rgb(var(--accent) / 0.22) 0%,
      rgb(var(--accent) / 0.14) 14%,
      transparent 66%
    );
  }
}

@media (min-width: 641px) {
  :root:not(.dark) .section--hero {
    position: relative;
    isolation: isolate;
  }

  :root:not(.dark) .section--hero::before {
    content: "";
    position: absolute;
    inset: -24px;
    z-index: -1;
    pointer-events: none;
    background: radial-gradient(
      1100px 640px at 25% 23%,
      rgb(var(--accent) / 0.28) 0%,
      rgb(var(--accent) / 0.12) 16%,
      transparent 78%
    );
  }
}

@media (min-width: 390px) and (max-width: 640px) {
  :root {
    --slab-y-shift: -24px;
    --slab-x-shift: 0px;
  }
}

@media (min-width: 361px) and (max-width: 389px) {
  :root {
    --slab-y-shift: 0px;
    --slab-x-shift: 0px;
  }
}

@media (max-width: 360px) {
  :root {
    --slab-y-shift: 0px;
    --slab-x-shift: 0px;
  }
}

@media (max-width: 640px) {
  .fx-band-bg .hero-slab,
  .fx-band-bg .hero-slab-2,
  .fx-band-bg .hero-slab-3,
  .fx-band-bg .hero-slab-4,
  .fx-band-bg .hero-slab-5,
  .fx-band-bg .hero-slab-6,
  .fx-band-bg .hero-slab-7,
  .fx-band-bg .hero-slab-8,
  .fx-band-bg .hero-slab-9,
  .fx-band-bg .hero-slab-10,
  .fx-band-bg .hero-slab-11,
  .fx-band-bg .hero-slab-12 {
    width: min(460px, 96vw);
    height: min(460px, 96vw);
  }

  .fx-band-bg .hero-slab {
    top: calc(-16.5% + var(--slab-y-shift, 0px));
    right: calc(-30% + var(--slab-x-shift, 0px));
    left: auto;
    bottom: auto;
    transform: rotate(-14deg);
    opacity: 0.85;
  }

  .fx-band-bg .hero-slab-2 {
    top: calc(27.00% + var(--slab-y-shift, 0px));
    left: calc(-28% + var(--slab-x-shift, 0px));
    transform: rotate(16deg);
    opacity: 0.7;
    clip-path: polygon(15% 7%, 97% 4%, 78% 62%, 23% 78%);
  }

  .fx-band-bg .hero-slab-3 {
    top: calc(49% + var(--slab-y-shift, 0px));
    right: calc(-32% + var(--slab-x-shift, 0px));
    transform: rotate(12deg);
    opacity: 0.62;
    clip-path: polygon(6% 18%, 91% 0%, 99% 85%, 39% 66%);
  }

  .fx-band-bg .hero-slab-4 {
    top: calc(-0.50% + var(--slab-y-shift, 0px));
    left: calc(-45% + var(--slab-x-shift, 0px));
    width: min(600px, 130vw);
    height: min(270px, 104vw);
    transform: translateX(0) translateY(0) rotate(-14deg);
    opacity: 0.6;
    clip-path: polygon(26% 18%, 99% 40%, 79% 78%, 28% 54%);
  }

  .fx-band-bg .hero-slab-5 {
    top: calc(52.9% + var(--slab-y-shift, 0px));
    right: calc(-44% + var(--slab-x-shift, 0px));
    width: min(600px, 130vw);
    height: min(490px, 104vw);
    transform: rotate(-10deg);
    opacity: 0.65;
    clip-path: polygon(29% 12%, 88% 36%, 78% 99%, 26% 94%);
  }

  .fx-band-bg .hero-slab-6 {
    top: calc(2.1% + var(--slab-y-shift, 0px));
    left: calc(-23% + var(--slab-x-shift, 0px));
    transform: rotate(10deg);
    opacity: 0.55;
  }

  .fx-band-bg .hero-slab-7 {
    top: calc(41.6% + var(--slab-y-shift, 0px));
    right: calc(-50% + var(--slab-x-shift, 0px));
    transform: rotate(-14deg);
    opacity: 0.72;
  }

  .fx-band-bg .hero-slab-8 {
    top: calc(-1.7% + var(--slab-y-shift, 0px));
    left: calc(-20% + var(--slab-x-shift, 0px));
    width: min(600px, 130vw);
    height: min(600px, 104vw);
    transform: rotate(8deg);
    opacity: 0.7;
    clip-path: polygon(2% 42%, 96% 36%, 86% 90%, 2% 99%);
  }

  .fx-band-bg .hero-slab-9 {
    top: calc(21% + var(--slab-y-shift, 0px));
    right: calc(-40% + var(--slab-x-shift, 0px));
    transform: rotate(-6deg);
    opacity: 0.55;
    clip-path: polygon(22% 45%, 96% 31%, 56% 90%, 2% 74%);
  }

  .fx-band-bg .hero-slab-10 {
    top: calc(72.75% + var(--slab-y-shift, 0px));
    left: calc(-30% + var(--slab-x-shift, 0px));
    transform: rotate(8deg);
    opacity: 0.45;
    clip-path: polygon(4% 25%, 96% 26%, 76% 90%, 12% 98%);
  }

  .fx-band-bg .hero-slab-11 {
    top: calc(86.1% + var(--slab-y-shift, 0px));
    right: calc(-42% + var(--slab-x-shift, 0px));
    transform: rotate(-6deg);
    opacity: 0.52;
    clip-path: polygon(4% 25%, 96% 26%, 76% 90%, 12% 98%);
  }

  .fx-band-bg .hero-slab-12 {
    top: calc(92.6% + var(--slab-y-shift, 0px));
    left: calc(-14% + var(--slab-x-shift, 0px));
    width: min(580px, 120vw);
    height: min(470px, 104vw);
    transform: rotate(10deg);
    opacity: 0.52;
    clip-path: polygon(4% 35%, 96% 26%, 76% 90%, 12% 98%);
  }
}

@media (max-width: 360px) and (max-height: 700px) {
  :root {
    --slab-y-shift: -18px;
    --slab-x-shift: 0px;
  }
}
